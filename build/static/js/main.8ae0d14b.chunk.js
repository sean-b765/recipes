(this["webpackJsonprecipes-frontend"]=this["webpackJsonprecipes-frontend"]||[]).push([[0],{205:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(20),s=n.n(r),i=n(11),c=n(10),o=n(41),l=n(92),u=n(1),d=function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("div",{className:"footer__logo",children:Object(u.jsx)("h3",{children:"Recipes"})}),Object(u.jsx)("nav",{className:"footer__navigation",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(c.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{children:Object(u.jsx)(c.b,{to:"/discover",children:"Discover"})}),Object(u.jsx)("li",{children:Object(u.jsx)(c.b,{to:"/search",children:"Search"})}),Object(u.jsx)("li",{children:Object(u.jsx)(c.b,{to:"/post",children:"Post"})})]})}),Object(u.jsxs)("div",{className:"footer__info",children:[Object(u.jsxs)("div",{className:"footer__info__legal",children:[Object(u.jsx)(c.b,{to:"/",children:"Privacy Policy"}),Object(u.jsx)(c.b,{to:"/",children:"Terms & Conditions"})]}),Object(u.jsx)("div",{className:"footer__info__copyright",children:Object(u.jsx)(c.b,{to:"/",children:"Copyright \xa9 2021 | Sean Boaden"})})]})]})},j=n(14),b=n(13),p=n(38),m=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],s=Object(i.d)((function(e){return e.auth.user})),o=Object(b.g)(),l=Object(b.f)();return Object(a.useEffect)((function(){r(!1)}),[o]),Object(u.jsxs)("header",{className:"navbar",children:[Object(u.jsxs)("nav",{className:"navbar__navigation",children:[Object(u.jsxs)("div",{"aria-label":"Open the menu",className:n?"navbar__navigation__mobile close":"navbar__navigation__mobile",onClick:function(){return r(!n)},children:[Object(u.jsx)("span",{}),Object(u.jsx)("span",{}),Object(u.jsx)("span",{})]}),Object(u.jsxs)("div",{className:n?"menu mobile-variant":"menu",children:[Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(c.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{children:Object(u.jsx)(c.b,{to:"/discover",children:"Discover"})}),Object(u.jsx)("li",{children:Object(u.jsx)(c.b,{to:"/post",children:"Post"})})]}),!(null===s||void 0===s?void 0:s._id)&&Object(u.jsxs)("div",{className:"menu__mobile__actions",children:[Object(u.jsx)("button",{className:"btn btn--no-bg",onClick:function(){return l.push("/login")},children:"Login"}),Object(u.jsx)("button",{className:"btn btn--pill btn--solid-blue",onClick:function(){return l.push("/signup")},children:"Sign up"})]})]})]}),Object(u.jsx)("div",{className:"navbar__brand",children:Object(u.jsx)(c.b,{to:"/",className:"navbar__brand__logo","aria-label":"Recipes Logo",children:"R"})}),!s&&Object(u.jsxs)("div",{className:"navbar__actions",children:[Object(u.jsx)("button",{className:"btn btn--no-bg",onClick:function(){return l.push("/login")},children:"Login"}),Object(u.jsx)("button",{className:"btn btn--pill btn--solid-blue",onClick:function(){return l.push("/signup")},children:"Sign up"})]}),s&&Object(u.jsxs)("div",{className:"navbar__notif",children:[Object(u.jsx)(p.b,{"aria-label":"View your notifications",onClick:function(){}}),Object(u.jsx)("div",{className:"navbar__notif__profile","aria-label":"Visit your profile",onClick:function(){return l.push("/profiles/".concat(s._id))},children:Object(u.jsx)("img",{src:s.imageUrl?s.imageUrl:"/images/default-avatar.png",alt:"Your profile"})})]})]})},v=n(17),f=n(93),h=n(44),O=n(207),g=function(){var e=Object(b.f)(),t=Object(i.d)((function(e){return e.auth.user}));return Object(u.jsx)(O.a.section,{className:"home",transition:{duration:.25},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Object(u.jsxs)("div",{className:"home__wrapper",children:[Object(u.jsxs)("div",{className:"home__wrapper__landing",children:[Object(u.jsxs)("header",{className:"home__wrapper__landing__split",children:[Object(u.jsx)("h1",{children:"Your favourite recipes,"}),Object(u.jsx)("p",{children:"all in one place."})]}),!(null===t||void 0===t?void 0:t._id)&&Object(u.jsx)("div",{className:"home__wrapper__landing__split home__wrapper__landing__split--center",children:Object(u.jsx)("button",{className:"btn btn--large",onClick:function(){return e.push("/signup")},children:"Get Started"})})]}),Object(u.jsxs)("section",{className:"home__wrapper__showcase",children:[Object(u.jsxs)("div",{className:"home__wrapper__showcase__item home__wrapper__showcase__item--discover",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)(f.a,{}),Object(u.jsx)("h2",{children:"Discover new tastes"})]}),Object(u.jsx)("article",{children:Object(u.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptatibus ratione facilis dolorum cupiditate rem enim non?"})})]}),Object(u.jsxs)("div",{className:"home__wrapper__showcase__item home__wrapper__showcase__item--reverse home__wrapper__showcase__item--search",children:[Object(u.jsx)("article",{children:Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Natus dolorum voluptate sapiente."})}),Object(u.jsxs)("header",{children:[Object(u.jsx)(v.e,{}),Object(u.jsx)("h2",{children:"Search for a dish"})]})]}),Object(u.jsxs)("div",{className:"home__wrapper__showcase__item home__wrapper__showcase__item--features",children:[Object(u.jsxs)("div",{className:"split",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)(h.b,{}),Object(u.jsx)("h2",{children:"Follow your friends"})]}),Object(u.jsx)("article",{children:Object(u.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Atque placeat rerum error consectetur minus nulla ad."})})]}),Object(u.jsxs)("div",{className:"split",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)(v.f,{}),Object(u.jsx)("h2",{children:"Share your own creations"})]}),Object(u.jsx)("article",{children:Object(u.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Illum, nam?"})})]})]})]})]})})},x=n(3),_=n(6),y=n.n(_),w=n(9),N=n(94),k=n.n(N).a.create({baseURL:"https://recipe-masters.herokuapp.com"});k.interceptors.request.use((function(e){var t=localStorage.getItem("profile");return t&&(e.headers.Authorization="Bearer ".concat(JSON.parse(t).token)),e}));var S=function(e){return k.post("/auth/signin",e)},D=function(e){return k.post("/auth/signup",e)},T=function(e){return k.post("/auth/signin-google",e)},C=function(e){return k.get("/user/".concat(e))},E=function(e){return k.patch("/user/follow/".concat(e))},F=function(e){return k.patch("/user/unfollow/".concat(e))},I=function(e){return k.get("/user/".concat(e,"/followers"))},R=function(e){return k.get("/user/".concat(e,"/following"))},L=function(e){return k.patch("/user/block/".concat(e))},U=function(e){return k.patch("/user/unblock/".concat(e))},P=function(e){return k.get("/user/".concat(e,"/posts"))},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?sort=rating&period=alltime";return k.get("/posts/discover".concat(e))},M=function(e){return k.post("/posts/create",e)},G=function(e,t){return k.patch("/posts/edit/".concat(t),e)},H=function(e){return k.get("/posts/post/".concat(e))},K=function(e){return k.delete("/posts/delete/".concat(e))},q=function(e){return k.patch("/posts/like/".concat(e))},B=function(e,t){return k.post("/posts/comment/".concat(e),t)},J=function(e){return k.delete("/posts/remove-comment/".concat(e))},W=function(e){return k.get("/posts/tags/".concat(e))},V=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,M(t);case 4:return n=e.sent,a=n.data,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(w.a)(y.a.mark((function e(t,n){var a,r,s,i,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(t,n);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(w.a)(y.a.mark((function e(t,n){var a,r,s,i,c,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,{comment:n});case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=n(70),ae=(n(204),Object(ne.b)(ne.a)),re=function(e){var t=e.filters,n=e.setFilters,a=e.setFilterState;return Object(u.jsx)("section",{className:"filters",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(t)},children:[Object(u.jsx)("label",{className:"filters__sort",htmlFor:"by",children:Object(u.jsxs)("select",{name:"by","aria-label":"Sort by",onChange:function(e){return n(Object(x.a)(Object(x.a)({},t),{},{sort:e.target.value}))},children:[Object(u.jsx)("option",{value:"rating",children:"rating"}),Object(u.jsx)("option",{value:"new",children:"new"})]})}),Object(u.jsx)("label",{className:"filters__period",htmlFor:"sort",children:Object(u.jsxs)("select",{name:"sort","aria-label":"Sort with date filters",onChange:function(e){return n(Object(x.a)(Object(x.a)({},t),{},{period:e.target.value}))},children:[Object(u.jsx)("option",{value:"alltime",children:"all time"}),Object(u.jsx)("option",{value:"year",children:"1 year"}),Object(u.jsx)("option",{value:"halfyear",children:"6 months"}),Object(u.jsx)("option",{value:"month",children:"1 month"}),Object(u.jsx)("option",{value:"week",children:"1 week"}),Object(u.jsx)("option",{value:"day",children:"today"})]})}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{style:{marginTop:"0.5rem"},children:"Serves"}),Object(u.jsx)(ae,{style:{margin:"0.4rem 0 1rem 0"},value:t.serves,onChange:function(e){return a(Object(x.a)(Object(x.a)({},t),{},{serves:e}))},onAfterChange:function(e){return n(Object(x.a)(Object(x.a)({},t),{},{serves:e}))},max:12,min:1,defaultValue:[1,12],tipFormatter:function(e){return"".concat(e)}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{style:{marginTop:"0.5rem"},children:"Prep. Time"}),Object(u.jsx)(ae,{style:{margin:"0.4rem 0 1rem 0"},value:t.prepTime,onChange:function(e){return a(Object(x.a)(Object(x.a)({},t),{},{prepTime:e}))},onAfterChange:function(e){return n(Object(x.a)(Object(x.a)({},t),{},{prepTime:e}))},max:120,min:1,defaultValue:[1,120],tipFormatter:function(e){return"".concat(e,"min")}})]}),Object(u.jsxs)("label",{children:[Object(u.jsx)("p",{style:{marginTop:"0.5rem"},children:"Cook Time"}),Object(u.jsx)(ae,{style:{margin:"0.4rem 0 1rem 0"},value:t.cookTime,onChange:function(e){return a(Object(x.a)(Object(x.a)({},t),{},{cookTime:e}))},onAfterChange:function(e){return n(Object(x.a)(Object(x.a)({},t),{},{cookTime:e}))},max:240,min:1,defaultValue:[1,240],tipFormatter:function(e){return"".concat(e,"min")}})]}),Object(u.jsxs)("label",{htmlFor:"search",className:"discover__header__search",children:[Object(u.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search...","aria-label":"Search query",value:t.query,onChange:function(e){return a(Object(x.a)(Object(x.a)({},t),{},{query:e.target.value}))}}),Object(u.jsxs)("label",{htmlFor:"search","aria-label":"Search...",children:[Object(u.jsx)(v.e,{}),Object(u.jsx)("input",{type:"submit","aria-label":"Search...",value:""})]})]})]})})},se=n(99),ie=n.n(se),ce=function(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,r=0;r<a;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)},oe=function(e){var t,n;return(null===(t=e.tags)||void 0===t?void 0:t.length)>=1?"?include=".concat(null===(n=e.tags)||void 0===n?void 0:n.join(","),"&sort=").concat(e.sort,"&period=").concat(e.period,"&serves=").concat(e.serves[0],"-").concat(e.serves[1],"&prepTime=").concat(e.prepTime[0],"-").concat(e.prepTime[1],"&cookTime=").concat(e.cookTime[0],"-").concat(e.cookTime[1],"&page=").concat(e.page,"&perPage=").concat(e.perPage).concat(""!==(null===e||void 0===e?void 0:e.query)?"&terms=".concat(null===e||void 0===e?void 0:e.query):""):"?sort=".concat(e.sort,"&period=").concat(e.period,"&serves=").concat(e.serves[0],"-").concat(e.serves[1],"&prepTime=").concat(e.prepTime[0],"-").concat(e.prepTime[1],"&cookTime=").concat(e.cookTime[0],"-").concat(e.cookTime[1],"&page=").concat(e.page,"&perPage=").concat(e.perPage).concat(""!==(null===e||void 0===e?void 0:e.query)?"&terms=".concat(null===e||void 0===e?void 0:e.query):"")},le=/(![\[][\w\d-_]{0,})[\]]/g,ue=function(e,t){for(var n,a=e.matchAll(le),r=e,s=t.map((function(e){return e.name})),i=function(){var e=n.value[0].substring(2,n.value[0].length-1);if(!s.includes(e))return r=r.replace(n.value[0],""),"continue";var a=t.find((function(t,n){return t.name===e}));r=r.replace(n.value[0],"\n![".concat(e,"](").concat(a.base64,")"))};!(n=a.next()).done;)i();return r=ie.a.sanitize(r)},de=function(e){return e>1e6?"".concat(parseFloat(Number(e/1e6).toFixed(1)),"M"):e>1e5||e>1e4||e>1e3?"".concat(parseFloat(Number(e/1e3).toFixed(1)),"K"):"".concat(e)},je=n(45),be=n(35),pe=function(e){var t,n,a,r,s,i,o=e.object,l=e.delay,d=e.isOnProfile,j=void 0!==d&&d;return Object(u.jsxs)("div",{className:"recipe","data-aos":"zoom-in","data-aos-delay":100*l,"data-aos-once":"true","data-aos-anchor-placement":"bottom",children:[Object(u.jsx)("div",{className:"recipe__bg",style:{backgroundImage:'url("'.concat((null===o||void 0===o||null===(t=o.images[0])||void 0===t?void 0:t.base64)?null===o||void 0===o||null===(n=o.images[0])||void 0===n?void 0:n.base64:"",'")')},children:Object(u.jsx)("div",{className:"recipe__bg__overlay",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:[Object(u.jsx)(je.b,{}),null===o||void 0===o?void 0:o.serves]}),Object(u.jsxs)("p",{children:[Object(u.jsx)(h.a,{}),"".concat(null===o||void 0===o?void 0:o.cookTime,"m")]}),Object(u.jsxs)("p",{children:[Object(u.jsx)(h.a,{}),"".concat(null===o||void 0===o?void 0:o.prepTime,"m")]})]})})}),o.user&&Object(u.jsxs)("header",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:Object(u.jsx)(c.b,{to:"/recipe/".concat(o.userFriendlyId),children:o.title})}),Object(u.jsxs)("p",{children:[Object(u.jsx)(be.b,{})," ",de(null===o||void 0===o||null===(a=o.likes)||void 0===a?void 0:a.length)]})]}),!j&&Object(u.jsx)("div",{className:"avatar",children:Object(u.jsx)(c.b,{to:"profiles/".concat(null===o||void 0===o||null===(r=o.user)||void 0===r?void 0:r._id),children:Object(u.jsx)("img",{src:o.user.imageUrl?o.user.imageUrl:"/images/default-avatar.png",alt:"".concat(o.user.username,"'s avatar'")})})})]}),Object(u.jsx)("div",{className:"recipe__preview",style:{backgroundImage:"url(".concat((null===o||void 0===o||null===(s=o.images[0])||void 0===s?void 0:s.base64)?null===o||void 0===o||null===(i=o.images[0])||void 0===i?void 0:i.base64:"",")")}})]})},me=function(e){for(var t=e.setFilters,n=e.filters,a=(Object(b.f)(),[]),r=n.page-2<1?1:n.page-2;r<n.page+3&&r<=n.pageCount;r++)a.push(r);return Object(u.jsx)(u.Fragment,{children:a.map((function(e,a){return e===n.page?Object(u.jsx)("span",{style:{cursor:"default"},"aria-label":"Showing results for current page",className:"btn btn--no-bg btn--page btn--page-selected",children:e},a):Object(u.jsx)("button",{"aria-label":"Show results for page ".concat(e),className:"btn btn--no-bg btn--page",onClick:function(){t(Object(x.a)(Object(x.a)({},n),{},{page:e}))},children:e},a)}))})},ve=n(18),fe=function(e){var t,n=e.filters,r=e.setFilters,s=e.onClickTag,i=Object(a.useState)(""),c=Object(j.a)(i,2),o=c[0],l=c[1];return Object(u.jsxs)("div",{className:"discover__header__tags",children:[Object(u.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),o&&!(null===n||void 0===n||null===(t=n.tags)||void 0===t?void 0:t.includes(o))&&(r(Object(x.a)(Object(x.a)({},n),{},{tags:[].concat(Object(ve.a)(null===n||void 0===n?void 0:n.tags),[o])})),l(""))},children:[Object(u.jsx)("input",{value:o,onChange:function(e){return l(e.target.value)},type:"text",className:"custom_input custom_input--border",placeholder:"Add tags..."}),Object(u.jsx)("input",{type:"submit",value:"+",className:"btn btn--solid btn--solid-blue"})]}),Object(u.jsx)("div",{children:null===n||void 0===n||null===(t=n.tags)||void 0===t?void 0:t.map((function(e,t){return Object(u.jsx)("button",{className:"btn btn--no-bg btn--tag",onClick:function(){return s(e)},children:e},t)}))})]})},he=function(){var e=Object(i.c)(),t=Object(b.g)(),n=Object(b.f)(),r=Object(a.useState)({sort:"rating",period:"alltime",serves:[1,12],prepTime:[1,120],cookTime:[1,240],tags:[],page:1,perPage:25,pageCount:1,query:""}),s=Object(j.a)(r,2),c=s[0],o=s[1],l=Object(i.d)((function(e){return e.post.all}));Object(a.useEffect)((function(){var n,a=[];try{var r;0!==(null===(r=a=t.search.replace("?tags=",""))||void 0===r?void 0:r.length)&&(a=a.split(","),c.tags=a)}catch(s){}(null===c||void 0===c||null===(n=c.tags)||void 0===n?void 0:n.length)>=1?V(oe(c)).then((function(t){o(Object(x.a)(Object(x.a)({},c),{},{pageCount:Number((null===t||void 0===t?void 0:t.pages)||1)})),e({type:"POST/SET_ALL",payload:t.result})})).catch((function(e){})):z(oe(c,c.query)).then((function(t){o(Object(x.a)(Object(x.a)({},c),{},{pageCount:Number(t.pages)})),e({type:"POST/SET_ALL",payload:t.result})}))}),[t]);var d=function(t){var n;o(t),0!==(null===t||void 0===t||null===(n=t.tags)||void 0===n?void 0:n.length)?V(oe(t,t.query)).then((function(n){o(Object(x.a)(Object(x.a)({},t),{},{pageCount:Number(n.pages)||0})),e({type:"POST/SET_ALL",payload:n.result})})):z(oe(t,t.query)).then((function(n){o(Object(x.a)(Object(x.a)({},t),{},{pageCount:Number(n.pages)||0})),e({type:"POST/SET_ALL",payload:n.result})}))};return Object(u.jsxs)(O.a.section,{className:"discover",transition:{duration:.25},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Object(u.jsxs)("header",{className:"discover__header",children:[Object(u.jsxs)("h1",{"data-aos":"zoom-out",children:[Object(u.jsx)("span",{children:"discover"})," a taste"]}),Object(u.jsx)(re,{filters:c,setFilters:d,setFilterState:o}),Object(u.jsx)(fe,{filters:c,setFilters:function(e){var t;o(e),n.push("/discover?tags=".concat(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.join(",")))},onClickTag:function(e){var t,a=null===c||void 0===c||null===(t=c.tags)||void 0===t?void 0:t.filter((function(t){return t!==e}));o(Object(x.a)(Object(x.a)({},c),{},{tags:a})),0===(null===a||void 0===a?void 0:a.length)?n.push("/discover"):n.push("/discover?tags=".concat(a.join(",")))}})]}),Object(u.jsx)("section",{className:"discover__grid",children:l&&l.map((function(e,t){return Object(u.jsx)(pe,{delay:t,object:e},t)}))}),Object(u.jsxs)("footer",{className:"discover__pagination",children:[Object(u.jsxs)("div",{className:"discover__pagination__pages",children:[Object(u.jsx)("div",{children:Object(u.jsx)(me,{setFilters:d,filters:c})}),Object(u.jsxs)("p",{children:[c.pageCount," pages total"]})]}),Object(u.jsx)("div",{className:"discover__pagination__perPage",children:Object(u.jsxs)("label",{className:"filters__perPage",children:[Object(u.jsxs)("select",{name:"perPage","aria-label":"Amount of items per page",onChange:function(e){return d(Object(x.a)(Object(x.a)({},c),{},{perPage:Number(e.target.value)}))},children:[Object(u.jsx)("option",{value:"25",children:"25"}),Object(u.jsx)("option",{value:"50",children:"50"}),Object(u.jsx)("option",{value:"100",children:"100"})]}),Object(u.jsx)("p",{children:"Items per page"})]})})]})]})},Oe=n(100),ge=n.n(Oe),xe=function(e){e.onSuccessFacebook;var t=e.onSuccessGoogle;return Object(u.jsx)("div",{children:Object(u.jsx)(ge.a,{clientId:"544966638845-agilmeq086cka6f2cpi30d4559g9u4a4.apps.googleusercontent.com",onSuccess:t,className:"btn btn--no-border btn--no-bg","aria-label":"Login with a Google account"})})},_e=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){var t=e.handleSignIn,n=Object(i.c)(),r=Object(b.f)(),s=Object(a.useState)(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],p=Object(a.useState)({email:"",password:""}),m=Object(j.a)(p,2),f=m[0],h=m[1];return Object(u.jsx)("section",{className:"auth__login","data-aos":"fade-in","data-aos-delay":"150",children:Object(u.jsxs)("div",{className:"auth__container",children:[Object(u.jsxs)("form",{action:"",onSubmit:function(e){return t(e,f)},className:"auth__form",children:[Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:"email",name:"email",id:"email",placeholder:"Email",value:f.email,onChange:function(e){return h(Object(x.a)(Object(x.a)({},f),{},{email:e.target.value}))}}),Object(u.jsxs)("label",{htmlFor:"password",children:[Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:l?"text":"password",name:"password",id:"password",placeholder:"Password",value:f.password,onChange:function(e){return h(Object(x.a)(Object(x.a)({},f),{},{password:e.target.value}))}}),Object(u.jsx)("div",{onClick:function(){return d(!l)},children:l?Object(u.jsx)(v.b,{}):Object(u.jsx)(v.a,{})})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn--pill",value:"Login"})]}),Object(u.jsx)(xe,{onSuccessGoogle:function(e){var t=e.tokenId,a=e.profileObj;we({tokenId:t,imageUrl:a.imageUrl,googleId:a.googleId,email:a.email,username:a.name}).then((function(e){n({type:"AUTH/SIGN_IN",payload:Object(x.a)({},e)}),r.push("/discover")})).catch((function(e){console.log(e)}))}}),Object(u.jsx)(c.b,{to:"/forgot-password","aria-label":"Forgot password link",children:"Forgot your password?"}),Object(u.jsx)(c.b,{to:"/signup","aria-label":"Switch to signup form",children:"Don't have an account? Sign up"})]})})},ke=function(e){var t=e.handleSignUp,n=Object(i.c)(),r=Object(b.f)(),s=Object(a.useState)(!1),o=Object(j.a)(s,2),l=o[0],d=o[1],p=Object(a.useState)({username:"",email:"",password:"",repeatPassword:""}),m=Object(j.a)(p,2),f=m[0],h=m[1];return Object(u.jsx)("section",{className:"auth__signup","data-aos":"fade-in","data-aos-delay":"150",children:Object(u.jsxs)("div",{className:"auth__container",children:[Object(u.jsxs)("form",{action:"",onSubmit:function(e){return t(e,f)},className:"auth__form",children:[Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:"text",name:"username",id:"username",placeholder:"Username",value:f.username,onChange:function(e){return h(Object(x.a)(Object(x.a)({},f),{},{username:e.target.value}))}}),Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:"email",name:"email",id:"email",placeholder:"Email",value:f.email,onChange:function(e){return h(Object(x.a)(Object(x.a)({},f),{},{email:e.target.value}))}}),Object(u.jsxs)("label",{htmlFor:"password",children:[Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:l?"text":"password",name:"password",id:"password",placeholder:"Password",value:f.password,onChange:function(e){return h(Object(x.a)(Object(x.a)({},f),{},{password:e.target.value}))}}),Object(u.jsx)("div",{onClick:function(){return d(!l)},children:l?Object(u.jsx)(v.b,{}):Object(u.jsx)(v.a,{})})]}),Object(u.jsxs)("label",{htmlFor:"repeatPassword",children:[Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:l?"text":"password",name:"repeatPassword",id:"repeatPassword",placeholder:"Repeat Password",value:f.repeatPassword,onChange:function(e){return h(Object(x.a)(Object(x.a)({},f),{},{repeatPassword:e.target.value}))}}),Object(u.jsx)("div",{onClick:function(){return d(!l)},children:l?Object(u.jsx)(v.b,{}):Object(u.jsx)(v.a,{})})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn--pill",value:"Sign up"})]}),Object(u.jsx)("p",{children:"Or..."}),Object(u.jsx)(xe,{onSuccessGoogle:function(e){var t=e.tokenId,a=e.profileObj;we({tokenId:t,imageUrl:a.imageUrl,googleId:a.googleId,email:a.email,username:a.name}).then((function(e){n({type:"AUTH/SIGN_IN",payload:Object(x.a)({},e)}),r.push("/discover")})).catch((function(e){console.log(e)}))}}),Object(u.jsx)(c.b,{to:"/login","aria-label":"Switch to login form",children:"Already have an account? Login"})]})})},Se=n(101),De=function(e){var t=e.title,n=e.message,a=e.show?"alert"===t.toLowerCase()?"logger logger--showing logger--alert":"error"===t.toLowerCase()&&"logger logger--showing logger--error":"logger";return Object(u.jsxs)("div",{className:a,children:[Object(u.jsxs)("header",{"aria-label":t,className:"logger__title",children:["alert"===t.toLowerCase()&&Object(u.jsx)(Se.a,{}),"error"===t.toLowerCase()&&Object(u.jsx)(p.a,{}),t]}),Object(u.jsx)("summary",{className:"logger__message",children:n})]})},Te=function(){var e=Object(b.f)(),t=Object(b.g)(),n=Object(i.c)(),r=Object(a.useState)(""),s=Object(j.a)(r,2),c=s[0],o=s[1],l=Object(a.useState)(""),d=Object(j.a)(l,2),p=d[0],m=d[1],v=Object(a.useState)(!1),f=Object(j.a)(v,2),h=f[0],g=f[1],x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;h||(o(e),m(t),g(!0),setTimeout((function(){g(!1)}),n))},_=function(){var e=Object(w.a)(y.a.mark((function e(t,a){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(null===a||void 0===a?void 0:a.email)&&(null===a||void 0===a?void 0:a.username)&&(null===a||void 0===a?void 0:a.password)&&(null===a||void 0===a?void 0:a.repeatPassword)){e.next=4;break}return x("Error","Please fill in required details."),e.abrupt("return");case 4:return e.next=6,ye(a);case 6:(r=e.sent).verificationSent&&x("Alert","Verification email sent to ".concat(r.user.email),3500),r.error?x("Error",r.error):n({payload:r,type:"AUTH/SIGN_UP"});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var t=Object(w.a)(y.a.mark((function t(a,r){var s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),(null===r||void 0===r?void 0:r.email)&&(null===r||void 0===r?void 0:r.password)){t.next=4;break}return x("Error","Please fill in the required details."),t.abrupt("return");case 4:return t.next=6,_e(r);case 6:(s=t.sent).error?x("Error",s.error):(n({payload:s,type:"AUTH/SIGN_IN"}),e.push("/discover"));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(u.jsx)(O.a.section,{className:"auth",children:Object(u.jsxs)("div",{className:"auth__wrapper",children:[Object(u.jsx)(De,{title:c,message:p,show:h}),"/login"===t.pathname&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{"data-aos":"zoom-out",children:"Login"})}),Object(u.jsx)(Ne,{handleSignIn:N})]}),"/signup"===t.pathname&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{children:Object(u.jsx)("h1",{"data-aos":"zoom-out",children:"Sign up"})}),Object(u.jsx)(ke,{handleSignUp:_})]})]})})},Ce=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r,s,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.error)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ae=n(102),Me=function(e){var t=e.modal,n=e.closeModal;return Object(u.jsxs)("div",{className:t.showing?"modal modal--active":"modal",children:[Object(u.jsxs)("header",{className:"modal__header",children:[Object(u.jsx)("h1",{children:t.title}),Object(u.jsx)("button",{className:"btn btn--no-bg","aria-label":"Close",children:Object(u.jsx)(Ae.a,{onClick:function(){return n()}})})]}),Object(u.jsx)("div",{className:"modal__body",children:t.children&&t.children.map((function(e,t){return Object(u.jsxs)("div",{className:"modal__body__user",children:[Object(u.jsx)("img",{src:e.imageUrl?e.imageUrl:"/images/default-avatar.png",alt:"Picture of ".concat(e.username)}),Object(u.jsx)(c.b,{to:"/profiles/".concat(e._id),children:e.username})]},t)}))})]})},Ge=function(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"auto",background:"rgba(255, 255, 255, 0) none repeat scroll 0% 0%",display:"block"},width:"4rem",height:"4rem",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(u.jsx)("circle",{cx:"50",cy:"50",r:"32",strokeWidth:"8",stroke:"#112aa9",strokeDasharray:"50.26548245743669 50.26548245743669",fill:"none",strokeLinecap:"round",children:Object(u.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0 50 50;360 50 50"})})})})},He=function(e){var t=e.profile,n=Object(a.useState)([]),r=Object(j.a)(n,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){(null===t||void 0===t?void 0:t._id)&&Pe(null===t||void 0===t?void 0:t._id).then((function(e){i(Object(ve.a)(e.result))})).catch((function(e){}))}),[t]),Object(u.jsx)(u.Fragment,{children:s.map((function(e,t){return Object(u.jsx)(pe,{delay:t,object:e,isOnProfile:!0},t)}))})},Ke=function(e){var t,n,r,s=e.id,c=Object(i.c)(),o=Object(b.f)(),l=Object(a.useState)({showing:!1,title:"",children:[]}),d=Object(j.a)(l,2),m=d[0],f=d[1],h=Object(i.d)((function(e){return e.user.single}))||null,g=Object(i.d)((function(e){return e.auth.user}))||null;Object(a.useEffect)((function(){Ce(s).then((function(e){e.error||(c({type:"USER/SET_USER",payload:e}),Le(s).then((function(e){c({type:"USER/SET_USER_FOLLOWERS",payload:e.result})})),Ue(s).then((function(e){c({type:"USER/SET_USER_FOLLOWING",payload:e.result})})))}))}),[]);var _=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t);case 2:n=e.sent,a=n.user,r=n.target,c({type:"AUTH/EDIT_STORED_USER",payload:{user:a,token:JSON.parse(localStorage.getItem("profile")).token}}),c({type:"USER/EDIT_USER",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(t);case 2:n=e.sent,a=n.user,r=n.target,c({type:"AUTH/EDIT_STORED_USER",payload:{user:a,token:JSON.parse(localStorage.getItem("profile")).token}}),c({type:"USER/EDIT_USER",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.blockList.includes(h._id)){e.next=6;break}return e.next=3,Re(t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,Ie(t);case 8:e.t0=e.sent;case 9:n=e.t0,a=n.user,c({type:"AUTH/EDIT_STORED_USER",payload:{user:a,token:JSON.parse(localStorage.getItem("profile")).token}});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Me,{closeModal:function(){f(Object(x.a)(Object(x.a)({},m),{},{showing:!1}))},modal:m}),Object(u.jsxs)(O.a.section,{className:"profile",transition:{duration:.25},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[h&&g?Object(u.jsxs)("div",{className:"profile__card",children:[Object(u.jsxs)("header",{className:"profile__card__header",children:[Object(u.jsx)("div",{className:"profile__card__header__avatar",children:Object(u.jsx)("img",{src:h.imageUrl?h.imageUrl:"/images/default-avatar.png",alt:"Picture of ".concat(h.username)})}),Object(u.jsxs)("div",{className:"profile__card__header__details",children:[Object(u.jsx)("h1",{children:h.username}),Object(u.jsxs)("span",{className:"score",children:[null===h||void 0===h?void 0:h.score," Score"]}),Object(u.jsxs)("div",{className:"profile__card__header__details__stats",children:[Object(u.jsxs)("button",{"aria-label":0===(null===h||void 0===h||null===(t=h.followers)||void 0===t?void 0:t.length)?"0 followers":"View ".concat(null===h||void 0===h||null===(n=h.followers)||void 0===n?void 0:n.length," followers"),className:"btn btn--no-bg",onClick:function(){return function(){var e,t,n=!1;n=0!==(null===(e=h._followers)||void 0===e?void 0:e.length)&&0!==(null===(t=h.followers)||void 0===t?void 0:t.length),f(Object(x.a)(Object(x.a)({},m),{},{title:"Followers",showing:n,children:h._followers}))}()},children:[de(null===h||void 0===h||null===(r=h.followers)||void 0===r?void 0:r.length)," Followers"]}),Object(u.jsxs)("button",{className:"btn btn--no-bg",onClick:function(){return function(){var e,t=!1;t=0!==(null===(e=h._following)||void 0===e?void 0:e.length),f(Object(x.a)(Object(x.a)({},m),{},{title:"Following",showing:t,children:h._following}))}()},"aria-label":0===h.following.length?"0 following":"View ".concat(h.following.length," following"),children:[de(h.following.length)," Following"]})]})]})]}),(null===g||void 0===g?void 0:g._id)!==s?Object(u.jsxs)("section",{className:"profile__card__actions",children:[Object(u.jsxs)("button",{className:"btn btn--pill","aria-label":h.followers.includes(g._id)?"Unfollow this user":"Follow this user",onClick:function(){return h.followers.includes(g._id)?N(s):_(s)},children:[h.followers.includes(g._id)?Object(u.jsx)(v.h,{}):Object(u.jsx)(v.g,{}),h.followers.includes(g._id)?"Unfollow":"Follow"]}),Object(u.jsxs)("button",{className:"btn btn--pill","aria-label":"Message this user",children:[Object(u.jsx)(v.d,{}),"Message"]}),Object(u.jsxs)("button",{className:"btn btn--no-bg","aria-label":g.blockList.includes(h._id)?"Unblock this user":"Block this user",onClick:function(){return k(s)},children:[g.blockList.includes(h._id)?Object(u.jsx)(je.c,{}):Object(u.jsx)(je.a,{}),g.blockList.includes(h._id)?"Unblock":"Block"]})]}):Object(u.jsxs)("section",{className:"profile__card__actions",children:[Object(u.jsxs)("button",{className:"btn btn--no-bg","aria-label":"Logout",onClick:function(){c({type:"AUTH/LOG_OUT"}),o.goBack()},children:[Object(u.jsx)(v.c,{}),"Logout"]}),Object(u.jsxs)("button",{className:"btn btn--pill","aria-label":"Message this user",children:[Object(u.jsx)(p.c,{}),"Settings"]})]}),Object(u.jsx)("article",{className:"profile__card__bio","aria-label":"Profile bio",children:h.bio})]}):Object(u.jsx)(Ge,{}),Object(u.jsx)("section",{className:"profile__activity",children:Object(u.jsx)(He,{profile:h})})]})]})},qe=n(103),Be=n.n(qe),Je=function(e){for(var t=e.content,n=e.className,a=Be.a.parse(t||""),r=5;r>0;r--){var s="<h".concat(r);a=a.replace(new RegExp(s,"g"),"<h".concat(r+1))}return Object(u.jsx)("div",{className:n,dangerouslySetInnerHTML:{__html:a}})},We=n(46),Ve=function(e){var t=e.onClick,n=e.type;if(!["delete","edit","like","liked","report"].includes(n))throw new Error('Invalid type "'.concat(n,'" in Button.jsx'));var a="btn btn--round ",r="";return"delete"===n?(a+="btn--red",r="Delete post"):"edit"===n?(a+="btn--blue",r="Edit post"):"like"===n||"liked"===n?"liked"===n?(a+="btn--green btn--heart btn--heart-liked",r="Unlike post"):(a+="btn--green btn--heart",r="Like post"):"report"===n&&(a+="btn--report btn--red",r="Report post"),Object(u.jsxs)("button",{onClick:t,className:a,"aria-label":r,alt:r,children:["delete"===n&&Object(u.jsx)(We.a,{}),"edit"===n&&Object(u.jsx)(We.b,{}),"liked"===n&&Object(u.jsx)(be.b,{}),"like"===n&&Object(u.jsx)(be.a,{}),"report"===n&&Object(u.jsx)(u.Fragment,{})]})},ze=function(e){var t,n,a,r,s=e.comment,c=e.userId,o=Object(i.c)(),l=function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(null===s||void 0===s?void 0:s._id);case 2:(t=e.sent).result?o({type:"POST/COMMENT_SINGLE/REMOVE",payload:t.result}):t.error&&console.log(t.error);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"comments__comment",children:[c===(null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t._id)&&Object(u.jsx)("button",{className:"btn btn--red btn--round","aria-label":"Remove your comment",onClick:l,children:Object(u.jsx)(We.a,{})}),Object(u.jsxs)("header",{children:[Object(u.jsx)("img",{src:null===s||void 0===s||null===(n=s.user)||void 0===n?void 0:n.imageUrl}),Object(u.jsx)("p",{children:null===s||void 0===s||null===(a=s.user)||void 0===a?void 0:a.username})]}),Object(u.jsx)("p",{dangerouslySetInnerHTML:{__html:null===s||void 0===s||null===(r=s.message)||void 0===r?void 0:r.replace(/\n/g,"<br>")}})]})},Ze=function(e){var t=e.comments,n=e.postId,r=e.user,s=Object(i.c)(),c=Object(a.useState)(""),o=Object(j.a)(c,2),l=o[0],d=o[1],b=function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(n,l);case 2:(t=e.sent).result&&(s({type:"POST/COMMENT_SINGLE",payload:Object(x.a)(Object(x.a)({},t.result),{},{user:{imageUrl:r.imageUrl,score:r.score,username:r.username,_id:r._id}})}),d(""));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"comments",children:[(null===r||void 0===r?void 0:r._id)&&Object(u.jsx)("div",{className:"comments__field",children:Object(u.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("textarea",{placeholder:"Add a comment...",className:"custom_input custom_input--comment-field",name:"comment",value:l,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("input",{type:"submit",value:"Post",onClick:b,className:"btn btn--solid btn--solid-blue"})]})}),t.map((function(e,t){return Object(u.jsx)(ze,{comment:e,userId:null===r||void 0===r?void 0:r._id},t)}))]})},Ye=function(e){var t,n,r,s,o,l,d,p,m,v,f,h=e.id,g=Object(i.c)(),_=Object(b.f)(),N=Object(i.d)((function(e){return e.post.single})),k=Object(i.d)((function(e){return e.auth.user})),S=Object(a.useState)(!1),D=Object(j.a)(S,2),T=D[0],C=D[1],E=Object(a.useState)(""),F=Object(j.a)(E,2),I=F[0],R=F[1],L=Object(a.useState)(""),U=Object(j.a)(L,2),P=U[0],A=U[1];return Object(a.useEffect)((function(){Z(h).then((function(e){g({type:"POST/SET_POST",payload:null===e||void 0===e?void 0:e.result[0]})})).catch((function(e){return console.log(e)}))}),[]),console.log((null===N||void 0===N||null===(t=N.user)||void 0===t?void 0:t._id)===(null===k||void 0===k?void 0:k._id)),Object(u.jsx)(O.a.section,{className:"fullrecipe",transition:{duration:.25},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:N?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(De,{show:T,title:I,message:P}),(null===N||void 0===N||null===(n=N.user)||void 0===n?void 0:n._id)===(null===k||void 0===k?void 0:k._id)&&Object(u.jsxs)("section",{className:"fullrecipe__editarea",children:[Object(u.jsx)(Ve,{type:"delete",onClick:Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(N._id);case 2:t=e.sent,console.log(t),t.error?(A(t.error),R("Error"),C(!0)):(A(t.message),R("Alert"),C(!0)),setTimeout((function(){C(!1),_.goBack()}),2e3);case 6:case"end":return e.stop()}}),e)})))}),Object(u.jsx)(Ve,{type:"edit",onClick:function(){g({type:"EDIT_FORM/SET",payload:{formData:Object(x.a)(Object(x.a)({},N),{},{images:null}),files:Object(ve.a)(N.images)}}),_.push("/edit")}})]}),Object(u.jsxs)("header",{className:"fullrecipe__header",children:[Object(u.jsxs)("div",{className:"fullrecipe__header__info",children:[Object(u.jsx)("h1",{children:N.title}),N.serves&&Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{children:N.serves})," Serves"]}),N.prepTime&&Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[N.prepTime,"min"]})," Prep time"]}),N.cookTime&&Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[N.cookTime,"min"]})," Cook time"]})]}),Object(u.jsxs)(c.b,{to:"/profiles/".concat(null===N||void 0===N||null===(r=N.user)||void 0===r?void 0:r._id),className:"fullrecipe__header__user",children:[Object(u.jsx)("p",{className:"user-username",children:null===N||void 0===N||null===(s=N.user)||void 0===s?void 0:s.username}),Object(u.jsx)("p",{className:"user-score",children:null===N||void 0===N||null===(o=N.user)||void 0===o?void 0:o.score}),Object(u.jsx)("img",{src:null===N||void 0===N||null===(l=N.user)||void 0===l?void 0:l.imageUrl,alt:"".concat(null===N||void 0===N||null===(d=N.user)||void 0===d?void 0:d.username,"'s avatar")})]})]}),Object(u.jsxs)("section",{className:"fullrecipe__interactions",children:[(null===k||void 0===k?void 0:k._id)&&(null===N||void 0===N||null===(p=N.user)||void 0===p?void 0:p._id)===(null===k||void 0===k?void 0:k._id)&&Object(u.jsx)("div",{className:"fullrecipe__interactions__stats",children:Object(u.jsxs)("span",{className:"likes",children:[Object(u.jsx)(be.b,{}),de(null===N||void 0===N||null===(m=N.likes)||void 0===m?void 0:m.length)," likes"]})}),(null===N||void 0===N||null===(v=N.user)||void 0===v?void 0:v._id)!==(null===k||void 0===k?void 0:k._id)&&Object(u.jsx)("div",{className:"fullrecipe__interactions__controls",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(Ve,{onClick:Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(N._id);case 2:if(!(t=e.sent).error){e.next=9;break}return R("Error"),A(t.error),C(!0),setTimeout((function(){C(!1)}),2e3),e.abrupt("return");case 9:0!==t.result?g({type:"POST/LIKE_SINGLE",payload:t.result}):g({type:"POST/LIKE_SINGLE/REMOVE",payload:k._id});case 10:case"end":return e.stop()}}),e)}))),type:N.likes.includes(null===k||void 0===k?void 0:k._id)?"liked":"like"}),Object(u.jsx)("p",{children:de(null===N||void 0===N||null===(f=N.likes)||void 0===f?void 0:f.length)})]})})]}),Object(u.jsx)("ul",{className:"fullrecipe__tags",children:N.tags.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsxs)(c.b,{to:"/discover?tags=".concat(e),children:["#",e]})},t)}))}),Object(u.jsx)(Je,{className:"fullrecipe__info",content:ue(N.content,N.images)}),Object(u.jsx)(Je,{className:"fullrecipe__method",content:ue(N.method,N.images)}),Object(u.jsx)(Ze,{comments:N.comments,postId:N._id,user:k||null})]}):Object(u.jsx)(Ge,{})})},Qe=n(55),Xe=n(56),$e=n(59),et=n(58),tt=n(57),nt=function(e){var t=e.files,n=e.onFilesChange,r=Object(a.useRef)(),s=Object(a.useState)({open:!1,file:null}),i=Object(j.a)(s,2),c=i[0],o=i[1];return Object(a.useEffect)((function(){c.open&&(r.current.focus(),r.current.select(r.current.value.length))}),[c]),Object(u.jsxs)("section",{className:"create__filepreview",children:[Object(u.jsxs)("div",{className:"create__filepreview__modal create__filepreview__modal--showing",style:{display:c.open&&c.file?"flex":"none"},children:[Object(u.jsxs)("label",{htmlFor:"refName",children:["Give a name to this image ",Object(u.jsx)("span",{children:"*"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{id:"refName",ref:r,name:"refName",type:"text",placeholder:"Reference name",className:"custom_input custom_input--underline",onKeyPress:function(e){if("Enter"===e.key||"NumpadReturn"===e.key){var a=t.map((function(t){return t===c.file&&(t=Object(x.a)(Object(x.a)({},t),{},{name:e.target.value})),t}));n(a),o({open:!1,file:null})}}}),Object(u.jsx)("button",{className:"btn",onClick:function(){if(c.open||c.file){var e=t.map((function(e){return e===c.file&&(e=Object(x.a)(Object(x.a)({},e),{},{name:r.current.value})),e}));n(e),o({open:!1,file:null}),r.current.value=""}},children:"Save"})]}),Object(u.jsx)("span",{children:"* A reference name makes it easier to position an image within your recipe content"})]}),t.map((function(e,a){return Object(u.jsxs)("button",{"aria-label":"Rename this image",className:"create__filepreview__file",onContextMenu:function(a){return function(e,a){e.preventDefault();var r=[];t.map((function(e){e!==a&&r.push(e)})),n(r)}(a,e)},onClick:function(){r.current.value=e.name,o({open:!0,file:e})},children:[Object(u.jsxs)("header",{children:[e.name.substring(0,15),e.name.length>15&&"..."]}),Object(u.jsx)("img",{src:e.base64,alt:e.name})]},a)}))]})},at=function(e){var t,n,a,r,s,i,o,l,d,j,b,p=e.state;return console.log(p),Object(u.jsxs)("section",{className:"fullrecipe",children:[Object(u.jsx)("header",{className:"fullrecipe__header",children:Object(u.jsxs)("div",{className:"fullrecipe__header__info",children:[Object(u.jsx)("h1",{children:null===p||void 0===p||null===(t=p.formData)||void 0===t?void 0:t.title}),(null===p||void 0===p||null===(n=p.formData)||void 0===n?void 0:n.serves)&&Object(u.jsxs)("span",{children:[Object(u.jsx)("span",{children:null===p||void 0===p||null===(a=p.formData)||void 0===a?void 0:a.serves})," Serves"]}),(null===p||void 0===p||null===(r=p.formData)||void 0===r?void 0:r.prepTime)&&Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[null===p||void 0===p||null===(s=p.formData)||void 0===s?void 0:s.prepTime,"min"]})," Prep time"]}),(null===p||void 0===p||null===(i=p.formData)||void 0===i?void 0:i.cookTime)&&Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[null===p||void 0===p||null===(o=p.formData)||void 0===o?void 0:o.cookTime,"min"]})," Cook time"]})]})}),Object(u.jsx)("ul",{className:"fullrecipe__tags",children:null===p||void 0===p||null===(l=p.formData)||void 0===l||null===(d=l.tags)||void 0===d?void 0:d.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsxs)(c.b,{to:"",children:["#",e]})},t)}))}),Object(u.jsx)(Je,{className:"fullrecipe__info",content:ue(null===p||void 0===p||null===(j=p.formData)||void 0===j?void 0:j.content,null===p||void 0===p?void 0:p.files)}),Object(u.jsx)(Je,{className:"fullrecipe__method",content:ue(null===p||void 0===p||null===(b=p.formData)||void 0===b?void 0:b.method,null===p||void 0===p?void 0:p.files)})]})},rt=function(e){var t=e.ingredients,n=e.onClickIngredient;return Object(u.jsx)("div",{className:"list list--ingredients",children:t.map((function(e,t){return Object(u.jsx)("button",{className:"list__item btn btn--no-bg","aria-label":"Remove this item.",onClick:function(){return n(e)},children:e},t)}))})},st=function(e){var t=e.tags,n=e.onClickTag;return Object(u.jsx)("div",{className:"list list--tags",children:t.map((function(e,t){return Object(u.jsx)("button",{className:"list__item btn btn--no-bg","aria-label":"Remove this item.",onClick:function(){return n(e)},children:e},t)}))})},it=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){var e;return Object(Qe.a)(this,n),(e=t.call(this)).state={formData:{title:"",serves:"",prepTime:"",cookTime:"",ingredients:[],tags:[],content:"",method:""},files:[],posted:!1},e.ingredientsRef=Object(a.createRef)(),e.tagsRef=Object(a.createRef)(),e.handleFiles=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,s,i,c,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.target.files,r=[],s=0;case 3:if(!(s<(null===a||void 0===a?void 0:a.length))){t.next=17;break}if(i=a[s],c="image-".concat(e.state.files.length+1+s),!(i.size>=1e7)){t.next=8;break}return t.abrupt("return");case 8:if(i.type.includes("image")){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,i.arrayBuffer();case 12:o=t.sent,r.push({name:c,type:i.type,size:i.size,lastModified:i.lastModified,base64:"data:".concat(i.type,";base64,").concat(ce(o)),originalFile:i});case 14:s++,t.next=3;break;case 17:e.setState(Object(x.a)(Object(x.a)({},e.state),{},{files:[].concat(Object(ve.a)(e.state.files),r)}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addIngredient=function(){if(!(e.state.formData.ingredients.length>=30)&&e.ingredientsRef){var t=e.ingredientsRef.current.value;t.length>20||e.state.formData.ingredients.includes(t)||!t||(e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{ingredients:[].concat(Object(ve.a)(e.state.formData.ingredients),[t])})})),e.ingredientsRef.current.value="")}},e.addTag=function(){if(!(e.state.formData.tags.length>=6)&&e.tagsRef){var t=e.tagsRef.current.value;t.length>20||e.state.formData.tags.includes(t)||!t||(e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{tags:[].concat(Object(ve.a)(e.state.formData.tags),[t])})})),e.tagsRef.current.value="")}},e.post=Object(w.a)(y.a.mark((function t(){var n,a,r,s,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y({formData:null===(n=e.state)||void 0===n?void 0:n.formData,files:null===(a=e.state)||void 0===a?void 0:a.files});case 3:if(null===(i=t.sent)||void 0===i||null===(r=i.post)||void 0===r?void 0:r.userFriendlyId){t.next=6;break}return t.abrupt("return");case 6:e.setState(Object(x.a)(Object(x.a)({},e.state),{},{posted:!0})),window.removeEventListener("beforeunload",e.setStorage),localStorage.removeItem("post_form"),e.props.setStore({formData:null,files:[]}),e.props.history.push("/recipe/".concat(null===i||void 0===i||null===(s=i.post)||void 0===s?void 0:s.userFriendlyId)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),e.setStorage=function(){var t,n;localStorage.setItem("post_form",JSON.stringify({formData:null===(t=e.state)||void 0===t?void 0:t.formData,files:null===(n=e.state)||void 0===n?void 0:n.files}))},e}return Object(Xe.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.setStorage),this.props.formData&&this.setState(this.props)}},{key:"componentWillUnmount",value:function(){var e;(null===(e=this.state)||void 0===e?void 0:e.posted)||(window.removeEventListener("beforeunload",this.setStorage),this.props.setStore(this.state))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(O.a.section,{transition:{duration:.25},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"create",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("h1",{children:"create a recipe"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"- Use up to 6 tags to gain a wider audience."}),Object(u.jsx)("li",{children:"- Add up to 30 ingredients."}),Object(u.jsx)("li",{children:"- Remove a tag or ingredient by clicking on it."}),Object(u.jsx)("li",{children:"- Upload images and name them to control where they appear in the recipe."}),Object(u.jsx)("li",{children:"- Format recipe information and method with markdown syntax."})]}),Object(u.jsx)("button",{className:"btn btn--pill",children:"View Formatting Help"})]}),Object(u.jsxs)("div",{className:"create__container",children:[Object(u.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault(),e.post()},className:"create__form",children:[Object(u.jsx)("label",{htmlFor:"title",className:"label label--title",children:Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:"text",name:"title",id:"title",placeholder:"Title",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},value:this.state.formData.title,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{title:t.target.value})}))}})}),Object(u.jsx)("label",{htmlFor:"serves",className:"label label--serves",children:Object(u.jsx)("input",{type:"text",className:"custom_input custom_input--underline",id:"serves",placeholder:"Serves",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},value:this.state.formData.serves,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{serves:t.target.value})}))}})}),Object(u.jsx)("label",{htmlFor:"prepTime",className:"label label--preptime",children:Object(u.jsx)("input",{type:"text",id:"prepTime",placeholder:"Prep. Time",className:"custom_input custom_input--underline",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},value:this.state.formData.prepTime,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{prepTime:t.target.value})}))}})}),Object(u.jsx)("label",{htmlFor:"cookTime",className:"label label--cooktime",children:Object(u.jsx)("input",{type:"text",id:"cookTime",placeholder:"Cook Time",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},className:"custom_input custom_input--underline",value:this.state.formData.cookTime,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{cookTime:t.target.value})}))}})}),Object(u.jsxs)("label",{htmlFor:"ingredients",className:"label label--ingredients",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("input",{type:"text",name:"ingredients",id:"ingredients",placeholder:"Add Ingredients...",className:"custom_input custom_input--underline",ref:this.ingredientsRef,onKeyPress:function(t){("NumpadEnter"===t.key||"Enter"===t.key)&&(e.addIngredient(),t.preventDefault())}}),Object(u.jsx)("button",{className:"btn btn--no-bg","aria-label":"Add this ingredient",onClick:function(){return e.addIngredient()},children:Object(u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{fill:"none",stroke:"#ffffff",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,18 L12,6 M6,12 L18,12"})})})]}),Object(u.jsx)(rt,{ingredients:this.state.formData.ingredients,onClickIngredient:function(t){var n=e.state.formData.ingredients.filter((function(e){return e!==t}));e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{ingredients:n})}))}})]}),Object(u.jsxs)("label",{htmlFor:"tags",className:"label label--tags",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("input",{type:"text",name:"tags",id:"tags",placeholder:"Add Tags...",className:"custom_input custom_input--underline",ref:this.tagsRef,onKeyPress:function(t){("NumpadEnter"===t.key||"Enter"===t.key)&&(e.addTag(),t.preventDefault())}}),Object(u.jsx)("button",{className:"btn btn--no-bg","aria-label":"Add this tag",onClick:function(){return e.addTag()},children:Object(u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{fill:"none",stroke:"#ffffff",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,18 L12,6 M6,12 L18,12"})})})]}),Object(u.jsx)(st,{tags:this.state.formData.tags,onClickTag:function(t){var n=e.state.formData.tags.filter((function(e){return e!==t}));e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{tags:n})}))}})]}),Object(u.jsx)("label",{htmlFor:"content",className:"label label--content",children:Object(u.jsx)("textarea",{cols:"30",rows:"10",name:"content",id:"content",placeholder:"Recipe information... allergens, gluten-free, vegan-friendly?",value:this.state.formData.content,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{content:t.target.value})}))},className:"custom_input custom_input--underline"})}),Object(u.jsx)("label",{htmlFor:"method",className:"label label--method",children:Object(u.jsx)("textarea",{cols:"30",rows:"10",name:"method",id:"method",placeholder:"Recipe method... describe the steps needed to complete this recipe",value:this.state.formData.method,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{method:t.target.value})}))},className:"custom_input custom_input--underline"})}),Object(u.jsxs)("label",{htmlFor:"upload",className:"label label--upload",children:[Object(u.jsxs)("p",{className:"btn btn--pill btn--solid-blue",role:"button",children:[Object(u.jsx)(tt.a,{style:{margin:"0 10px 0 0"}})," Upload"]}),Object(u.jsx)("input",{type:"file",multiple:!0,name:"upload",id:"upload",className:"custom_input custom_input--underline",encType:"multipart/form-data",style:{display:"none"},onChange:this.handleFiles})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn--pill",value:"Post"})]}),Object(u.jsx)(nt,{files:this.state.files,onFilesChange:function(t){e.setState(Object(x.a)(Object(x.a)({},e.state),{},{files:t}))}})]}),Object(u.jsx)(at,{state:this.state})]})}}]),n}(a.Component),ct=Object(b.h)(Object(i.b)((function(e){var t,n,a,r,s,i,c,o,l;null!==(null===(t=e)||void 0===t||null===(n=t.postForm)||void 0===n?void 0:n.formData)&&0!==(null===(a=e)||void 0===a||null===(r=a.postForm)||void 0===r||null===(s=r.files)||void 0===s?void 0:s.length)||(e={postForm:JSON.parse(localStorage.getItem("post_form"))});return{formData:(null===(i=e)||void 0===i||null===(c=i.postForm)||void 0===c?void 0:c.formData)||null,files:(null===(o=e)||void 0===o||null===(l=o.postForm)||void 0===l?void 0:l.files)||[]}}),(function(e){return{setStore:function(t){return e({type:"POST_FORM/SET",payload:Object(x.a)({},t)})}}}))(it)),ot=function(e){Object($e.a)(n,e);var t=Object(et.a)(n);function n(){var e;return Object(Qe.a)(this,n),(e=t.call(this)).state={formData:{_id:"",title:"",serves:"",prepTime:"",cookTime:"",ingredients:[],tags:[],content:"",method:""},files:[],posted:!1},e.ingredientsRef=Object(a.createRef)(),e.tagsRef=Object(a.createRef)(),e.handleFiles=function(){var t=Object(w.a)(y.a.mark((function t(n){var a,r,s,i,c,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.target.files,r=[],s=0;case 3:if(!(s<(null===a||void 0===a?void 0:a.length))){t.next=17;break}if(i=a[s],c="image-".concat(e.state.files.length+1+s),!(i.size>=1e7)){t.next=8;break}return t.abrupt("return");case 8:if(i.type.includes("image")){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,i.arrayBuffer();case 12:o=t.sent,r.push({name:c,type:i.type,size:i.size,lastModified:i.lastModified,base64:"data:".concat(i.type,";base64,").concat(ce(o)),originalFile:i});case 14:s++,t.next=3;break;case 17:e.setState(Object(x.a)(Object(x.a)({},e.state),{},{files:[].concat(Object(ve.a)(e.state.files),r)}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addIngredient=function(){if(!(e.state.formData.ingredients.length>=30)&&e.ingredientsRef){var t=e.ingredientsRef.current.value;t.length>20||e.state.formData.ingredients.includes(t)||!t||(e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{ingredients:[].concat(Object(ve.a)(e.state.formData.ingredients),[t])})})),e.ingredientsRef.current.value="")}},e.addTag=function(){if(!(e.state.formData.tags.length>=6)&&e.tagsRef){var t=e.tagsRef.current.value;t.length>20||e.state.formData.tags.includes(t)||!t||(e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{tags:[].concat(Object(ve.a)(e.state.formData.tags),[t])})})),e.tagsRef.current.value="")}},e.submit=Object(w.a)(y.a.mark((function t(){var n,a,r,s,i,c,o,l,u,d,j,b,p,m,v,f,h,O,g,_,w,N;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X({formData:{title:null===(n=e.state)||void 0===n||null===(a=n.formData)||void 0===a?void 0:a.title,serves:String(null===(r=e.state)||void 0===r||null===(s=r.formData)||void 0===s?void 0:s.serves),cookTime:String(null===(i=e.state)||void 0===i||null===(c=i.formData)||void 0===c?void 0:c.cookTime),prepTime:String(null===(o=e.state)||void 0===o||null===(l=o.formData)||void 0===l?void 0:l.prepTime),ingredients:null===(u=e.state)||void 0===u||null===(d=u.formData)||void 0===d?void 0:d.ingredients,tags:null===(j=e.state)||void 0===j||null===(b=j.formData)||void 0===b?void 0:b.tags,content:null===(p=e.state)||void 0===p||null===(m=p.formData)||void 0===m?void 0:m.content,method:null===(v=e.state)||void 0===v||null===(f=v.formData)||void 0===f?void 0:f.method},files:null===(h=e.state)||void 0===h?void 0:h.files},null===(O=e.state)||void 0===O||null===(g=O.formData)||void 0===g?void 0:g._id);case 3:if(N=t.sent,console.log(N),null===N||void 0===N||null===(_=N.post)||void 0===_?void 0:_.userFriendlyId){t.next=7;break}return t.abrupt("return");case 7:e.setState(Object(x.a)(Object(x.a)({},e.state),{},{posted:!0})),window.removeEventListener("beforeunload",e.setStorage),localStorage.removeItem("edit_form"),e.props.setStore({formData:null,files:[]}),e.props.history.push("/recipe/".concat(null===N||void 0===N||null===(w=N.post)||void 0===w?void 0:w.userFriendlyId)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),e.setStorage=function(){var t,n;localStorage.setItem("edit_form",JSON.stringify({formData:null===(t=e.state)||void 0===t?void 0:t.formData,files:null===(n=e.state)||void 0===n?void 0:n.files}))},e}return Object(Xe.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.setStorage),this.props.formData&&this.setState(this.props)}},{key:"componentWillUnmount",value:function(){var e;(null===(e=this.state)||void 0===e?void 0:e.posted)||(window.removeEventListener("beforeunload",this.setStorage),this.props.setStore(this.state))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)(O.a.section,{transition:{duration:.25},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"create",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("h1",{children:"edit a recipe"}),Object(u.jsx)("button",{className:"btn btn--pill",children:"View Formatting Help"})]}),Object(u.jsxs)("div",{className:"create__container",children:[Object(u.jsxs)("form",{action:"",onSubmit:function(t){t.preventDefault(),e.submit()},className:"create__form",children:[Object(u.jsx)("label",{htmlFor:"title",className:"label label--title",children:Object(u.jsx)("input",{className:"custom_input custom_input--underline",type:"text",name:"title",id:"title",placeholder:"Title",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},value:this.state.formData.title,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{title:t.target.value})}))}})}),Object(u.jsx)("label",{htmlFor:"serves",className:"label label--serves",children:Object(u.jsx)("input",{type:"text",className:"custom_input custom_input--underline",id:"serves",placeholder:"Serves",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},value:this.state.formData.serves,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{serves:t.target.value})}))}})}),Object(u.jsx)("label",{htmlFor:"prepTime",className:"label label--preptime",children:Object(u.jsx)("input",{type:"text",id:"prepTime",placeholder:"Prep. Time",className:"custom_input custom_input--underline",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},value:this.state.formData.prepTime,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{prepTime:t.target.value})}))}})}),Object(u.jsx)("label",{htmlFor:"cookTime",className:"label label--cooktime",children:Object(u.jsx)("input",{type:"text",id:"cookTime",placeholder:"Cook Time",onKeyDownCapture:function(e){return"Enter"===e.key&&e.preventDefault()},className:"custom_input custom_input--underline",value:this.state.formData.cookTime,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{cookTime:t.target.value})}))}})}),Object(u.jsxs)("label",{htmlFor:"ingredients",className:"label label--ingredients",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("input",{type:"text",name:"ingredients",id:"ingredients",placeholder:"Add Ingredients...",className:"custom_input custom_input--underline",ref:this.ingredientsRef,onKeyPress:function(t){("NumpadEnter"===t.key||"Enter"===t.key)&&(e.addIngredient(),t.preventDefault())}}),Object(u.jsx)("button",{className:"btn btn--no-bg","aria-label":"Add this ingredient",onClick:function(){return e.addIngredient()},children:Object(u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{fill:"none",stroke:"#ffffff",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,18 L12,6 M6,12 L18,12"})})})]}),Object(u.jsx)(rt,{ingredients:this.state.formData.ingredients,onClickIngredient:function(t){var n=e.state.formData.ingredients.filter((function(e){return e!==t}));e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{ingredients:n})}))}})]}),Object(u.jsxs)("label",{htmlFor:"tags",className:"label label--tags",children:[Object(u.jsxs)("header",{children:[Object(u.jsx)("input",{type:"text",name:"tags",id:"tags",placeholder:"Add Tags...",className:"custom_input custom_input--underline",ref:this.tagsRef,onKeyPress:function(t){("NumpadEnter"===t.key||"Enter"===t.key)&&(e.addTag(),t.preventDefault())}}),Object(u.jsx)("button",{className:"btn btn--no-bg","aria-label":"Add this tag",onClick:function(){return e.addTag()},children:Object(u.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{fill:"none",stroke:"#ffffff",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,18 L12,6 M6,12 L18,12"})})})]}),Object(u.jsx)(st,{tags:this.state.formData.tags,onClickTag:function(t){var n=e.state.formData.tags.filter((function(e){return e!==t}));e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{tags:n})}))}})]}),Object(u.jsx)("label",{htmlFor:"content",className:"label label--content",children:Object(u.jsx)("textarea",{cols:"30",rows:"10",name:"content",id:"content",placeholder:"Recipe information... allergens, gluten-free, vegan-friendly?",value:this.state.formData.content,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{content:t.target.value})}))},className:"custom_input custom_input--underline"})}),Object(u.jsx)("label",{htmlFor:"method",className:"label label--method",children:Object(u.jsx)("textarea",{cols:"30",rows:"10",name:"method",id:"method",placeholder:"Recipe method... describe the steps needed to complete this recipe",value:this.state.formData.method,onChange:function(t){return e.setState(Object(x.a)(Object(x.a)({},e.state),{},{formData:Object(x.a)(Object(x.a)({},e.state.formData),{},{method:t.target.value})}))},className:"custom_input custom_input--underline"})}),Object(u.jsxs)("label",{htmlFor:"upload",className:"label label--upload",children:[Object(u.jsxs)("p",{className:"btn btn--pill btn--solid-blue",role:"button",children:[Object(u.jsx)(tt.a,{style:{margin:"0 10px 0 0"}})," Upload"]}),Object(u.jsx)("input",{type:"file",multiple:!0,name:"upload",id:"upload",className:"custom_input custom_input--underline",encType:"multipart/form-data",style:{display:"none"},onChange:this.handleFiles})]}),Object(u.jsx)("input",{type:"submit",className:"btn btn--pill",value:"Submit Edit"})]}),Object(u.jsx)(nt,{files:this.state.files,onFilesChange:function(t){e.setState(Object(x.a)(Object(x.a)({},e.state),{},{files:t}))}})]}),Object(u.jsx)(at,{state:this.state})]})}}]),n}(a.Component),lt=Object(b.h)(Object(i.b)((function(e){var t,n,a,r,s,i,c,o,l;null!==(null===(t=e)||void 0===t||null===(n=t.editForm)||void 0===n?void 0:n.formData)&&0!==(null===(a=e)||void 0===a||null===(r=a.editForm)||void 0===r||null===(s=r.files)||void 0===s?void 0:s.length)||(e={editForm:JSON.parse(localStorage.getItem("edit_form"))});return{formData:(null===(i=e)||void 0===i||null===(c=i.editForm)||void 0===c?void 0:c.formData)||null,files:(null===(o=e)||void 0===o||null===(l=o.editForm)||void 0===l?void 0:l.files)||[]}}),(function(e){return{setStore:function(t){return e({type:"EDIT_FORM/SET",payload:Object(x.a)({},t)})}}}))(ot)),ut=n(208);var dt=function(){var e=Object(i.c)(),t=Object(b.g)();return Object(a.useEffect)((function(){e({type:"AUTH/INIT",payload:JSON.parse(localStorage.getItem("profile"))})}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{}),Object(u.jsx)("main",{className:"container",children:Object(u.jsx)(ut.a,{exitBeforeEnter:!0,children:Object(u.jsxs)(b.c,{location:t,children:[Object(u.jsx)(b.a,{path:"/",exact:!0,children:Object(u.jsx)(g,{})}),Object(u.jsx)(b.a,{path:"/discover",exact:!0,children:Object(u.jsx)(he,{})}),Object(u.jsx)(b.a,{path:"/post",exact:!0,children:Object(u.jsx)(ct,{})}),Object(u.jsx)(b.a,{path:"/edit",exact:!0,children:Object(u.jsx)(lt,{})}),Object(u.jsx)(b.a,{path:"/login",children:Object(u.jsx)(Te,{})}),Object(u.jsx)(b.a,{path:"/signup",children:Object(u.jsx)(Te,{})}),Object(u.jsx)(b.a,{path:"/profiles/:id",render:function(e){return Object(u.jsx)(Ke,{id:e.match.params.id})}}),Object(u.jsx)(b.a,{path:"/recipe/:id",render:function(e){return Object(u.jsx)(Ye,{id:e.match.params.id})}})]},t.pathname)})}),Object(u.jsx)(d,{})]})},jt=Object(o.combineReducers)({auth:function(){var e,t,n,a,r,s,i,c,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},l=arguments.length>1?arguments[1]:void 0;if("undefined"!==typeof o)switch(l.type){case"AUTH/INIT":return Object(x.a)(Object(x.a)({},o),{},{user:null===l||void 0===l||null===(e=l.payload)||void 0===e?void 0:e.user,token:null===l||void 0===l||null===(t=l.payload)||void 0===t?void 0:t.token});case"AUTH/EDIT_STORED_USER":return localStorage.setItem("profile",JSON.stringify({user:null===l||void 0===l||null===(n=l.payload)||void 0===n?void 0:n.user,token:JSON.parse(localStorage.getItem("profile")).token})),Object(x.a)(Object(x.a)({},o),{},{user:null===l||void 0===l||null===(a=l.payload)||void 0===a?void 0:a.user});case"AUTH/SIGN_IN":return localStorage.setItem("profile",JSON.stringify({user:null===l||void 0===l||null===(r=l.payload)||void 0===r?void 0:r.user,token:null===l||void 0===l||null===(s=l.payload)||void 0===s?void 0:s.token})),Object(x.a)(Object(x.a)({},o),{},{user:null===l||void 0===l||null===(i=l.payload)||void 0===i?void 0:i.user,token:null===l||void 0===l||null===(c=l.payload)||void 0===c?void 0:c.token});case"AUTH/SIGN_UP":return Object(x.a)({},o);case"AUTH/LOG_OUT":return localStorage.removeItem("profile"),Object(x.a)(Object(x.a)({},o),{},{user:null,token:null});default:return o}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],single:null},t=arguments.length>1?arguments[1]:void 0;if("undefined"!==typeof e)switch(t.type){case"USER/SET_USER":return Object(x.a)(Object(x.a)({},e),{},{single:t.payload});case"USER/SET_USER_FOLLOWERS":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),{},{_followers:t.payload})});case"USER/SET_USER_FOLLOWING":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),{},{_following:t.payload})});case"USER/EDIT_USER":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),t.payload)});case"USER/SET_ALL":return Object(x.a)(Object(x.a)({},e),{},{all:t.payload});case"USER/PUSH_TO_ALL":return Object(x.a)(Object(x.a)({},e),{},{all:e.all.push(t.payload)});case"USER/PULL_FROM_ALL":return Object(x.a)(Object(x.a)({},e),{},{all:e.all.filter((function(e){return e._id!==t.payload._id}))});default:return e}},postForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formData:null,files:[]},t=arguments.length>1?arguments[1]:void 0;if("undefined"!==typeof e)switch(t.type){case"POST_FORM/SET":return localStorage.setItem("post_form",JSON.stringify(t.payload)),Object(x.a)(Object(x.a)({},e),{},{formData:t.payload.formData,files:t.payload.files});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],single:null},t=arguments.length>1?arguments[1]:void 0;if("undefined"!==typeof e)switch(t.type){case"POST/SET_POST":return Object(x.a)(Object(x.a)({},e),{},{single:t.payload});case"POST/EDIT_POST":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),t.payload)});case"POST/SET_ALL":return Object(x.a)(Object(x.a)({},e),{},{all:t.payload});case"POST/EDIT_ALL":return Object(x.a)({},e);case"POST/LIKE_SINGLE":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),{},{likes:[].concat(Object(ve.a)(e.single.likes),[t.payload])})});case"POST/LIKE_SINGLE/REMOVE":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),{},{likes:e.single.likes.filter((function(e){return e!==t.payload}))})});case"POST/COMMENT_SINGLE":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),{},{comments:[].concat(Object(ve.a)(e.single.comments),[t.payload])})});case"POST/COMMENT_SINGLE/REMOVE":return Object(x.a)(Object(x.a)({},e),{},{single:Object(x.a)(Object(x.a)({},e.single),{},{comments:e.single.comments.filter((function(e){return e._id!==t.payload}))})});default:return e}},editForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formData:null,files:[]},t=arguments.length>1?arguments[1]:void 0;if("undefined"!==typeof e)switch(t.type){case"EDIT_FORM/SET":return localStorage.setItem("edit_form",JSON.stringify(t.payload)),Object(x.a)(Object(x.a)({},e),{},{formData:t.payload.formData,files:t.payload.files});default:return e}}}),bt=Object(o.createStore)(jt,Object(l.composeWithDevTools)());s.a.render(Object(u.jsx)(i.a,{store:bt,children:Object(u.jsx)(c.a,{children:Object(u.jsx)(dt,{})})}),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.8ae0d14b.chunk.js.map